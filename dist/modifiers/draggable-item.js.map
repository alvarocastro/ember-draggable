{"version":3,"file":"draggable-item.js","sources":["../../src/modifiers/draggable-item.js"],"sourcesContent":["import { modifier } from 'ember-modifier';\nimport { draggable } from '@atlaskit/pragmatic-drag-and-drop/element/adapter';\nimport { CLASS, prepareDataForCallback } from './drop-target.js';\n\n/**\n * Modifier to make a DOM element draggable.\n *\n * @param {HTMLElement} element Draggable DOM element.\n * @param {any} options.data Data to associate with the item.\n * @param {String} [options.group] Name of the group this item belongs to.\n * @param {HTMLElement} [options.dragHandleElement] Element that acts as the drag handle.\n * @param {Boolean} [disabled] Prevents the element to be dragged.\n * @param {String} [options.isDraggingClass] Class added to the element when it is being drag.\n * @param {Function} [options.onDragStart] Callback fired when the drag starts.\n * @param {Function} [options.onDragEnd] Callback fired when the item is dropped.\n */\nexport default modifier(\n  function draggableItem(\n    element,\n    positional,\n    {\n      data,\n      group,\n      dragHandleElement,\n      disabled = false,\n      isDraggingClass = CLASS.DRAGGING,\n      onDragStart = () => {},\n      onDragEnd = () => {},\n    } = {},\n  ) {\n    return draggable({\n      element,\n      dragHandle:\n        dragHandleElement ??\n        element.querySelector('[data-draggable-item-handle]'),\n      getInitialData: () => ({ data, group }),\n      canDrag: () => !disabled,\n      onDragStart: (event) => {\n        element.classList.add(isDraggingClass);\n        onDragStart(prepareDataForCallback(event));\n      },\n      onDrop: (event) => {\n        element.classList.remove(isDraggingClass);\n        onDragEnd(prepareDataForCallback(event));\n      },\n    });\n  },\n  { eager: false },\n);\n"],"names":["modifier","draggableItem","element","positional","data","group","dragHandleElement","disabled","isDraggingClass","CLASS","DRAGGING","onDragStart","onDragEnd","draggable","dragHandle","querySelector","getInitialData","canDrag","event","classList","add","prepareDataForCallback","onDrop","remove","eager"],"mappings":";;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAeA,QAAQ,CACrB,SAASC,aAAaA,CACpBC,OAAO,EACPC,UAAU,EACV;EACEC,IAAI;EACJC,KAAK;EACLC,iBAAiB;AACjBC,EAAAA,QAAQ,GAAG,KAAK;EAChBC,eAAe,GAAGC,KAAK,CAACC,QAAQ;AAChCC,EAAAA,WAAW,GAAGA,MAAM,EAAE;EACtBC,SAAS,GAAGA,MAAM,EAAC;AACrB,CAAC,GAAG,EAAE,EACN;AACA,EAAA,OAAOC,SAAS,CAAC;IACfX,OAAO;IACPY,UAAU,EACRR,iBAAiB,IACjBJ,OAAO,CAACa,aAAa,CAAC,8BAA8B,CAAC;IACvDC,cAAc,EAAEA,OAAO;MAAEZ,IAAI;AAAEC,MAAAA,KAAAA;AAAM,KAAC,CAAC;AACvCY,IAAAA,OAAO,EAAEA,MAAM,CAACV,QAAQ;IACxBI,WAAW,EAAGO,KAAK,IAAK;AACtBhB,MAAAA,OAAO,CAACiB,SAAS,CAACC,GAAG,CAACZ,eAAe,CAAC,CAAA;AACtCG,MAAAA,WAAW,CAACU,sBAAsB,CAACH,KAAK,CAAC,CAAC,CAAA;KAC3C;IACDI,MAAM,EAAGJ,KAAK,IAAK;AACjBhB,MAAAA,OAAO,CAACiB,SAAS,CAACI,MAAM,CAACf,eAAe,CAAC,CAAA;AACzCI,MAAAA,SAAS,CAACS,sBAAsB,CAACH,KAAK,CAAC,CAAC,CAAA;AAC1C,KAAA;AACF,GAAC,CAAC,CAAA;AACJ,CAAC,EACD;AAAEM,EAAAA,KAAK,EAAE,KAAA;AAAM,CACjB,CAAC;;;;"}